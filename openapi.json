{"openapi":"3.1.0","info":{"title":"Training Plan API","description":"\nA comprehensive API for managing athletic training plans with hierarchical structure.\n\n## Features\n\n* **Hierarchical Structure**: Plans → Phases → Blocks → Workouts\n* **User Organization**: Plans organized by user ID\n* **JSON Storage**: File-based storage in structured directories\n* **Validation**: Pydantic models with comprehensive validation\n\n## Training Plan Structure\n\n1. **Plan**: Top-level training plan with target date and athlete information\n2. **Phase**: Training phases (e.g., Base Building, Peak, Taper)\n3. **Block**: Weekly or multi-day training blocks\n4. **Workout**: Individual training sessions with duration and intensity\n\n## Data Storage\n\nPlans are stored in the following structure:\n```\ndata/\n├── {user_id}/\n│   └── training_plans/\n│       ├── {plan_id}_{plan_name}.json\n│       └── ...\n```\n","version":"1.0.0"},"paths":{"/":{"get":{"tags":["health"],"summary":"Root endpoint","description":"Welcome message and basic API information","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Read Root  Get"}}}}}}},"/items/{item_id}":{"get":{"tags":["items"],"summary":"Get item by ID","description":"Retrieve a specific item by its ID with optional query parameter","operationId":"read_item_items__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plans/{user_id}":{"get":{"tags":["plans"],"summary":"Get training plans for user","description":"Retrieve all training plans for a specific user","operationId":"get_plan_plans__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successfully retrieved training plans","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanListResponse"}}}},"404":{"description":"User not found or no plans available","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health check","description":"Check the health status of the API service","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}}},"components":{"schemas":{"Block":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the training block"},"name":{"type":"string","title":"Name","description":"Name of the training block","example":"Base Building Week 1"},"start_date":{"type":"string","format":"date-time","title":"Start Date","description":"Start date of the training block","example":"2024-01-01T00:00:00"},"end_date":{"type":"string","format":"date-time","title":"End Date","description":"End date of the training block","example":"2024-01-07T23:59:59"},"workouts":{"items":{"$ref":"#/components/schemas/Workout"},"type":"array","title":"Workouts","description":"List of workouts in this training block"}},"type":"object","required":["name","start_date","end_date","workouts"],"title":"Block"},"ErrorResponse":{"properties":{"detail":{"type":"string","title":"Detail","description":"Error message","example":"User not found"},"status_code":{"type":"integer","title":"Status Code","description":"HTTP status code","example":404}},"type":"object","required":["detail","status_code"],"title":"ErrorResponse","description":"Standardized error response model"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Service status","example":"healthy"},"timestamp":{"type":"string","title":"Timestamp","description":"Response timestamp","example":"2024-01-01T12:00:00Z"},"version":{"type":"string","title":"Version","description":"API version","example":"1.0.0"}},"type":"object","required":["status","timestamp","version"],"title":"HealthResponse","description":"Health check response model"},"ItemResponse":{"properties":{"item_id":{"type":"integer","title":"Item Id","description":"Item identifier","example":123},"q":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q","description":"Optional query parameter","example":"test"}},"type":"object","required":["item_id"],"title":"ItemResponse","description":"Generic item response (legacy)"},"Phase":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the training phase"},"name":{"type":"string","title":"Name","description":"Name of the training phase","example":"Base Building"},"description":{"type":"string","title":"Description","description":"Description of the training phase","example":"Foundational aerobic development phase"},"start_date":{"type":"string","format":"date-time","title":"Start Date","description":"Start date of the training phase","example":"2024-01-01T00:00:00"},"end_date":{"type":"string","format":"date-time","title":"End Date","description":"End date of the training phase","example":"2024-02-29T23:59:59"},"blocks":{"items":{"$ref":"#/components/schemas/Block"},"type":"array","title":"Blocks","description":"List of training blocks in this phase"}},"type":"object","required":["name","description","start_date","end_date","blocks"],"title":"Phase"},"Plan":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the training plan"},"athlete_id":{"type":"string","title":"Athlete Id","description":"Unique identifier of the athlete","example":"athlete_123"},"target_date":{"type":"string","format":"date-time","title":"Target Date","description":"Target completion date for the training plan","example":"2024-06-01T00:00:00"},"name":{"type":"string","title":"Name","description":"Name of the training plan","example":"Marathon Training Plan"},"description":{"type":"string","title":"Description","description":"Detailed description of the training plan","example":"16-week marathon training plan for sub-3:30 goal"},"phases":{"items":{"$ref":"#/components/schemas/Phase"},"type":"array","title":"Phases","description":"List of training phases in the plan"}},"type":"object","required":["athlete_id","target_date","name","description","phases"],"title":"Plan"},"PlanListResponse":{"properties":{"user_id":{"type":"string","title":"User Id","description":"User identifier","example":"sample_user_123"},"plans":{"items":{"$ref":"#/components/schemas/Plan"},"type":"array","title":"Plans","description":"List of training plans"},"count":{"type":"integer","title":"Count","description":"Number of plans returned","example":2},"message":{"type":"string","title":"Message","description":"Response message","example":"Plans retrieved successfully"}},"type":"object","required":["user_id","plans","count","message"],"title":"PlanListResponse","description":"Multiple training plans response","example":{"count":1,"message":"Successfully retrieved 1 training plan(s) for user 'sample_user_123'","plans":[{"athlete_id":"athlete_123","description":"16-week marathon training plan for sub-3:30 goal","id":"plan_456","name":"Marathon Training Plan","phases":[],"target_date":"2024-06-01T00:00:00"}],"user_id":"sample_user_123"}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Workout":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the workout"},"name":{"type":"string","title":"Name","description":"Name of the workout","example":"Morning Run"},"description":{"type":"string","title":"Description","description":"Detailed description of the workout","example":"Easy-paced 30-minute run to build aerobic base"},"duration":{"type":"integer","exclusiveMinimum":0.0,"title":"Duration","description":"Duration of the workout in minutes","example":30},"intensity":{"type":"string","title":"Intensity","description":"Intensity level of the workout","example":"Easy"}},"type":"object","required":["name","description","duration","intensity"],"title":"Workout"}}},"tags":[{"name":"plans","description":"Training plan operations - create, retrieve, and manage athletic training plans"},{"name":"health","description":"Health check endpoints - monitor API service status"},{"name":"items","description":"Generic item operations (legacy endpoints)"}]}